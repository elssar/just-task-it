{
	"info": {
		"_postman_id": "06c95a85-7231-43a9-aec8-bc5535d628d6",
		"name": "JTI API Tests",
		"description": "A collection to test APIs for Just Task It.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_uid": "9333975-06c95a85-7231-43a9-aec8-bc5535d628d6"
	},
	"item": [
		{
			"name": "health",
			"item": [
				{
					"name": "Basic health check",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is a JSON object with status Ok\", function () {",
									"    pm.expect(pm.response.json())",
									"        .to.be.an('object')",
									"        .which.has.property('status', 'Ok');",
									"});",
									""
								],
								"type": "text/javascript",
								"id": "4797da0d-a358-4598-85ac-0b1972b93afa"
							}
						}
					],
					"id": "84d63486-fff3-487f-a65c-e6e3c79cd60e",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/hc/basic",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"hc",
								"basic"
							]
						},
						"description": "Perform a basic liveliness healthcheck"
					},
					"response": []
				},
				{
					"name": "Advanced health check",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"pm.test(\"Response is a JSON object with status Ok\", function () {",
									"    pm.expect(pm.response.json())",
									"        .to.be.an('object')",
									"        .which.has.property('status', 'Ok');",
									"});",
									""
								],
								"type": "text/javascript",
								"id": "fb532626-e580-4b16-97a8-bcf0db77fbca"
							}
						}
					],
					"id": "4d43b99b-6382-4526-afcb-f8691d69cfb8",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/hc/advanced",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"hc",
								"advanced"
							]
						},
						"description": "Perform an advanced health check.\n\nThe application will perform basic CRUD operations to ensure that it can still work with the database."
					},
					"response": []
				}
			],
			"id": "c110a5a2-412c-41a0-af89-44fca0e1cf94",
			"description": "Test the healthcheck endpoints"
		},
		{
			"name": "users",
			"item": [
				{
					"name": "create",
					"item": [
						{
							"name": "Successfully Create User",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Response is a JSON object with a token\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('token')",
											"        .that.is.a('string')",
											"        .which.matches(/^[a-zA-Z0-9]{8}-[a-zA-Z0-9]{40}$/);",
											"});",
											""
										],
										"type": "text/javascript",
										"id": "e94b458f-b10a-4751-bc5e-abae1681928c"
									}
								}
							],
							"id": "e17c5a48-73ec-4459-9a61-c14197c019f0",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"{{$randomEmail}}\",\n    \"name\": \"{{$randomFullName}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/users",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "Invalid Email",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Response is a JSON object with BadRequest status\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('status', 'BadRequest');",
											"});",
											""
										],
										"type": "text/javascript",
										"id": "5c3a17b8-efd6-48bb-9942-ea8332a74be7"
									}
								}
							],
							"id": "db3f36c9-abbf-4199-ad94-152720338ab6",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"{{$randomDomainName}}\",\n    \"name\": \"{{$randomFullName}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/users",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "Invalid Name",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Response is a JSON object with BadRequest status\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('status', 'BadRequest');",
											"});",
											""
										],
										"type": "text/javascript",
										"id": "776c6e38-5a5d-4201-83d1-1c348433e39c"
									}
								}
							],
							"id": "fd8f7d3a-24d6-496b-bf2a-b6c8b371fbf9",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"{{$randomEmail}}\",\n    \"name\": \"\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/users",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "No Name",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Response is a JSON object with BadRequest status\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('status', 'BadRequest');",
											"});",
											""
										],
										"type": "text/javascript",
										"id": "b5ab9b1a-d530-4ba8-b659-f8c23b5f42b6"
									}
								}
							],
							"id": "1b4d1253-df4e-424f-8669-46ee6a1cdaf3",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"{{$randomEmail}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/users",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "No Email",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Response is a JSON object with BadRequest status\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('status', 'BadRequest');",
											"});",
											""
										],
										"type": "text/javascript",
										"id": "5de77bd2-fa41-4970-a572-e2eca639d417"
									}
								}
							],
							"id": "050ac182-a5cb-4555-9b3c-a95bdd72e9bd",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"{{$randomFullName}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/users",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "Empty Body",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Response is a JSON object with BadRequest status\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('status', 'BadRequest');",
											"});",
											""
										],
										"type": "text/javascript",
										"id": "4ad4aec3-f83d-46cd-b129-fd26f34ae0fd"
									}
								}
							],
							"id": "70d940c6-c133-4746-a26b-4dad73271d6f",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/users",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"users"
									]
								}
							},
							"response": []
						},
						{
							"name": "Extra Property",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test(\"Response is a JSON object with BadRequest status\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('status', 'BadRequest');",
											"});",
											""
										],
										"type": "text/javascript",
										"id": "be5dec27-67f6-4575-9fda-4fc3b2a3731e"
									}
								}
							],
							"id": "4c375a4d-3af7-4731-b514-960bfa153878",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"{{$randomEmail}}\",\n    \"name\": \"{{$randomFullName}}\",\n    \"website\": \"{{$randomDomainName}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/users",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"users"
									]
								}
							},
							"response": []
						}
					],
					"id": "800b7182-b4e6-4182-83e1-b8649a1eaa98"
				},
				{
					"name": "get",
					"item": [
						{
							"name": "create test users Copy",
							"item": [
								{
									"name": "Create Test User 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"user_1.token\", resp.token);",
													""
												],
												"type": "text/javascript",
												"id": "5a827c09-a097-44a4-ab9c-e9b29ad0028b"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set(\"user_1.email\", pm.variables.replaceIn('{{$randomEmail}}'));",
													"pm.variables.set(\"user_1.name\", pm.variables.replaceIn('{{$randomFullName}}'));"
												],
												"type": "text/javascript",
												"id": "b7115bca-fea5-435c-8668-b509f3fd0f50"
											}
										}
									],
									"id": "9a884bb0-08f4-489d-b243-f7b9944bb3f9",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"{{user_1.email}}\",\n    \"name\": \"{{user_1.name}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/users",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Test User 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"user_2.token\", resp.token);",
													""
												],
												"type": "text/javascript",
												"id": "5e2cbff0-812d-4181-8f97-1286b0cb68b9"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set(\"user_2.email\", pm.variables.replaceIn('{{$randomEmail}}'));",
													"pm.variables.set(\"user_2.name\", pm.variables.replaceIn('{{$randomFullName}}'));"
												],
												"type": "text/javascript",
												"id": "c3e3f0ba-7c12-4725-9fb1-dfa02488607e"
											}
										}
									],
									"id": "b49fbdab-a012-445d-956a-eb33cb15d414",
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"{{user_2.email}}\",\n    \"name\": \"{{user_2.name}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/users",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"users"
											]
										}
									},
									"response": []
								}
							],
							"id": "2b6ffd61-5678-4dad-b3c6-959982b6af8b"
						},
						{
							"name": "get authenticated user",
							"item": [
								{
									"name": "Get User 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let response = pm.response.json();",
													"",
													"pm.test(\"Response is a JSON object with a user\", function () {",
													"    pm.expect(response)",
													"        .to.be.an('object')",
													"        .which.has.all.keys('email', 'name');",
													"});",
													"",
													"pm.test(\"Response has user_1's email\", function () {",
													"    pm.expect(response)",
													"        .to.have.property('email', pm.variables.get('user_1.email'));",
													"});",
													"",
													"pm.test(\"Response has user_1's name\", function () {",
													"    pm.expect(response)",
													"        .to.have.property('name', pm.variables.get('user_1.name'));",
													"});"
												],
												"type": "text/javascript",
												"id": "5f6eb7e6-f1be-4517-80df-a245c5cd4d45"
											}
										}
									],
									"id": "b2251169-8e7c-48aa-9435-4dcce4048593",
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{user_1.token}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/users",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get User 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let response = pm.response.json();",
													"",
													"pm.test(\"Response is a JSON object with a user\", function () {",
													"    pm.expect(response)",
													"        .to.be.an('object')",
													"        .which.has.all.keys('email', 'name');",
													"});",
													"",
													"pm.test(\"Response has user_2's email\", function () {",
													"    pm.expect(response)",
													"        .to.have.property('email', pm.variables.get('user_2.email'));",
													"});",
													"",
													"pm.test(\"Response has user_2's name\", function () {",
													"    pm.expect(response)",
													"        .to.have.property('name', pm.variables.get('user_2.name'));",
													"});"
												],
												"type": "text/javascript",
												"id": "fcbc9f08-1599-4bdd-863e-10f6d28809a3"
											}
										}
									],
									"id": "5ca49aee-025f-4369-a048-70f1998fd56d",
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{user_2.token}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/users",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"users"
											]
										}
									},
									"response": []
								}
							],
							"id": "ed5f870a-0983-4967-8a15-cf3dd07cf2bc"
						},
						{
							"name": "unauthenticated requests",
							"item": [
								{
									"name": "Get without access token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"let response = pm.response.json();",
													"",
													"pm.test(\"Response has status Unauthorized\", function () {",
													"    pm.expect(pm.response.json())",
													"        .to.be.an('object')",
													"        .that.has.property('status', 'Unauthorized');",
													"});",
													""
												],
												"type": "text/javascript",
												"id": "2a28d03a-0b68-4dfd-92e4-de7b5f8c8c7f"
											}
										}
									],
									"id": "fb2fc82c-4fcc-4d68-8ffe-d0ee0a81f08d",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{baseUrl}}/users",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get with empty access token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"let response = pm.response.json();",
													"",
													"pm.test(\"Response has status Unauthorized\", function () {",
													"    pm.expect(pm.response.json())",
													"        .to.be.an('object')",
													"        .that.has.property('status', 'Unauthorized');",
													"});",
													""
												],
												"type": "text/javascript",
												"id": "88faeb05-0aa3-4dc3-982e-ab66b00a03f1"
											}
										}
									],
									"id": "3bc9a9e8-93ad-4217-85c0-3d8c3acf0f51",
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/users",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Get with invalid access token",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"let response = pm.response.json();",
													"",
													"pm.test(\"Response has status Unauthorized\", function () {",
													"    pm.expect(pm.response.json())",
													"        .to.be.an('object')",
													"        .that.has.property('status', 'Unauthorized');",
													"});",
													""
												],
												"type": "text/javascript",
												"id": "2115e8d3-4e69-44b6-9a0f-f05aa0bd5acb"
											}
										}
									],
									"id": "cc590e77-9683-4d03-82be-5c0439cc68f0",
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "invalid",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/users",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"users"
											]
										}
									},
									"response": []
								}
							],
							"id": "2505adf0-1b2e-4cf2-9cce-f95cf9098b2d"
						}
					],
					"id": "2d4edd9a-9fb6-4768-838b-37ccc9e47caf"
				}
			],
			"id": "1719ae0f-5cdc-4693-87c9-d7d384d92066",
			"description": "Run tests on users - creation and getting the authenticated user"
		},
		{
			"name": "lists",
			"item": [
				{
					"name": "setup",
					"item": [
						{
							"name": "user 1",
							"item": [
								{
									"name": "Create Test User 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"lists.user_1.token\", resp.token);",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set(\"lists.user_1.email\", pm.variables.replaceIn('{{$randomEmail}}'));",
													"pm.variables.set(\"lists.user_1.name\", pm.variables.replaceIn('{{$randomFullName}}'));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"{{lists.user_1.email}}\",\n    \"name\": \"{{lists.user_1.name}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/users",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create List TODO 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"lists.user_1.todo_tasks.1\", resp.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{lists.user_1.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{$randomCatchPhrase}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create List TODO 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"lists.user_1.todo_tasks.2\", resp.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{lists.user_1.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{$randomCatchPhrase}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create List non TODO 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"lists.user_1.non_todo_tasks.1\", resp.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{lists.user_1.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{$randomCatchPhrase}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create List non TODO 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"lists.user_1.non_todo_tasks.1\", resp.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{lists.user_1.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{$randomCatchPhrase}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "user 2",
							"item": [
								{
									"name": "Create Test User 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"lists.user_2.token\", resp.token);",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set(\"lists.user_2.email\", pm.variables.replaceIn('{{$randomEmail}}'));",
													"pm.variables.set(\"lists.user_2.name\", pm.variables.replaceIn('{{$randomFullName}}'));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"{{lists.user_2.email}}\",\n    \"name\": \"{{lists.user_2.name}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/users",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create List TODO 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"lists.user_2.todo_tasks.1\", resp.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{lists.user_2.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{$randomCatchPhrase}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create List TODO 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"lists.user_2.todo_tasks.2\", resp.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{lists.user_2.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{$randomCatchPhrase}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create List non TODO 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"lists.user_1.non_todo_tasks.1\", resp.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{lists.user_2.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{$randomCatchPhrase}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create List non TODO 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"lists.user_1.non_todo_tasks.2\", resp.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{lists.user_2.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{$randomCatchPhrase}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "List Creation",
					"item": [
						{
							"name": "Add a list without any todos",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set(\"lists.test_1.name\", pm.variables.replaceIn('{{$randomAdjective}}'));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let list = pm.response.json();",
											"",
											"pm.test(\"Response is a list with a name \", function () {",
											"    pm.expect(list)",
											"        .to.be.an('object')",
											"        .which.has.property('name', pm.variables.get('lists.test_1.name'));",
											"});",
											"",
											"pm.test(\"List has no todos\", function () {",
											"    pm.expect(list)",
											"        .to.not.have.property('todos');",
											"});",
											"",
											"pm.variables.set('lists.test_1.id', list.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_1.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\" : \"{{lists.test_1.name}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/lists",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists"
									]
								}
							},
							"response": []
						},
						{
							"name": "Add a list with todos",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set(\"lists.test_2.name\", pm.variables.replaceIn('{{$randomAdjective}}'));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let list = pm.response.json();",
											"",
											"pm.test(\"Response is a list with a name \", function () {",
											"    pm.expect(list)",
											"        .to.be.an('object')",
											"        .which.has.property('name', pm.variables.get('lists.test_2.name'));",
											"});",
											"",
											"pm.test(\"List has todos\", function () {",
											"    pm.expect(list)",
											"        .to.not.have.property('todos');",
											"});",
											"",
											"pm.variables.set('lists.test_2.id', list.id);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_1.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\" : \"{{lists.test_2.name}}\",\n    \"todos\": [\n        {{lists.user_1.todo_tasks.1}},\n        {{lists.user_1.todo_tasks.2}}\n    ]\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/lists",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Get Lists",
					"item": [
						{
							"name": "Get List with Todos not populated",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let list = pm.response.json();",
											"",
											"pm.test(\"Response is a list with a name \", function () {",
											"    pm.expect(list)",
											"        .to.be.an('object')",
											"        .which.has.property('name', pm.variables.get('lists.test_2.name'));",
											"});",
											"",
											"pm.test(\"List has no todos\", function () {",
											"    pm.expect(list)",
											"        .to.not.have.property('todos');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"variable": [
										{
											"key": "list_id",
											"value": "{{lists.test_2.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get List with Todos populated",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const ld = require('lodash');",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let list = pm.response.json();",
											"",
											"pm.test(\"Response is a list with a name \", function () {",
											"    pm.expect(list)",
											"        .to.be.an('object')",
											"        .which.has.property('name', pm.variables.get('lists.test_2.name'));",
											"});",
											"",
											"pm.test(\"List has todos\", function () {",
											"    pm.expect(list)",
											"        .to.have.property('todos')",
											"        .which.is.an('array')",
											"        .which.has.length(2);",
											"});",
											"",
											"pm.test('List has expected todos', function () {",
											"    let todo_ids = ld.map(list.todos, 'id');",
											"    ",
											"    pm.expect(todo_ids)",
											"        .to.be.an('array')",
											"        .which.includes.members([",
											"            pm.variables.get('lists.user_1.todo_tasks.1'),",
											"            pm.variables.get('lists.user_1.todo_tasks.2')",
											"        ]);",
											"})"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id?populate=true",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"query": [
										{
											"key": "populate",
											"value": "true"
										}
									],
									"variable": [
										{
											"key": "list_id",
											"value": "{{lists.test_2.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get List without Todos not populated",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let list = pm.response.json();",
											"",
											"pm.test(\"Response is a list with a name \", function () {",
											"    pm.expect(list)",
											"        .to.be.an('object')",
											"        .which.has.property('name', pm.variables.get('lists.test_1.name'));",
											"});",
											"",
											"pm.test(\"List has no todos\", function () {",
											"    pm.expect(list)",
											"        .to.not.have.property('todos');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"variable": [
										{
											"key": "list_id",
											"value": "{{lists.test_1.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get List without Todos populated",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let list = pm.response.json();",
											"",
											"pm.test(\"Response is a list with a name \", function () {",
											"    pm.expect(list)",
											"        .to.be.an('object')",
											"        .which.has.property('name', pm.variables.get('lists.test_1.name'));",
											"});",
											"",
											"pm.test(\"List has no todos\", function () {",
											"    pm.expect(list)",
											"        .to.not.have.property('todos');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"variable": [
										{
											"key": "list_id",
											"value": "{{lists.test_1.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Lists for User 1",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const ld = require('lodash');",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let lists = pm.response.json();",
											"",
											"pm.test(\"Response is a an array of lists\", function () {",
											"    pm.expect(lists)",
											"        .to.be.an('array')",
											"        .which.has.length(2);",
											"});",
											"",
											"pm.test('Response has expected lists', function () {",
											"    let list_ids = ld.map(lists, 'id');",
											"    ",
											"    pm.expect(list_ids)",
											"        .to.be.an('array')",
											"        .which.includes.members([",
											"            pm.variables.get('lists.test_1.id'),",
											"            pm.variables.get('lists.test_2.id')",
											"        ]);",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/lists",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Lists for User 2",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"const ld = require('lodash');",
											"",
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let lists = pm.response.json();",
											"",
											"pm.test(\"Response is an empty array\", function () {",
											"    pm.expect(lists)",
											"        .to.be.an('array')",
											"        .which.has.length(0);",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_2.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/lists",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get User 1's list with User 2's token",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"let response = pm.response.json();",
											"",
											"pm.test(\"Response has status NotFound\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_2.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"variable": [
										{
											"key": "list_id",
											"value": "{{lists.test_2.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Non Existent List",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"let response = pm.response.json();",
											"",
											"pm.test(\"Response has status NotFound\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_2.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"variable": [
										{
											"key": "list_id",
											"value": "99999999"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "list edit",
					"item": [
						{
							"name": "Rename a List",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set(\"lists.edit.test_1.name\", pm.variables.replaceIn('{{$randomAdjective}}'));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let list = pm.response.json();",
											"",
											"pm.test(\"Response is a list with a name \", function () {",
											"    pm.expect(list)",
											"        .to.be.an('object')",
											"        .which.has.property('name', pm.variables.get('lists.edit.test_1.name'));",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_1.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"{{lists.edit.test_1.name}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"variable": [
										{
											"key": "list_id",
											"value": "{{lists.test_1.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Rename a Non Existant List",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set(\"lists.edit.test_2.name\", pm.variables.replaceIn('{{$randomAdjective}}'));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test(\"Response status is NotFound\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('status', 'NotFound');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_1.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"{{lists.edit.test_2.name}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"variable": [
										{
											"key": "list_id",
											"value": "999999"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Rename another Users List",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set(\"lists.edit.test_3.name\", pm.variables.replaceIn('{{$randomAdjective}}'));"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test(\"Response status is NotFound\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('status', 'NotFound');",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_2.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"{{lists.edit.test_3.name}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"variable": [
										{
											"key": "list_id",
											"value": "{{lists.test_1.id}}"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "list delete",
					"item": [
						{
							"name": "Delete List with Todos",
							"item": [
								{
									"name": "Get List with todos",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let list = pm.response.json();",
													"let todos = list.todos.map(t => t.id);",
													"",
													"pm.test(\"List has todos\", function () {",
													"    pm.expect(todos)",
													"        .to.be.an('array')",
													"        .which.is.not.empty;",
													"});",
													"",
													"pm.variables.set('lists.delete.with_todos.todo_ids', JSON.stringify(todos));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{lists.user_1.token}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/lists/:list_id?populate=true",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"lists",
												":list_id"
											],
											"query": [
												{
													"key": "populate",
													"value": "true"
												}
											],
											"variable": [
												{
													"key": "list_id",
													"value": "{{lists.test_2.id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete List",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test(\"Response status is Ok\", function () {",
													"    pm.expect(pm.response.json())",
													"        .to.be.an('object')",
													"        .which.has.property('status', 'Ok');",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{lists.user_1.token}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/lists/:list_id",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"lists",
												":list_id"
											],
											"variable": [
												{
													"key": "list_id",
													"value": "{{lists.test_2.id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Check todos no longer associated with list",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let todos = pm.response.json();",
													"let ex_list_todo_ids = JSON.stringify(pm.variables.get('lists.delete.with_todos.todo_ids'));",
													"",
													"pm.test(\"None of the todos are associated with deleted list\", function () {",
													"    todos.forEach((todo) => {",
													"        if (ex_list_todo_ids.includes(todo.id)) {",
													"            pm.expect(todo.list).to.be.null;",
													"        }",
													"    });",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{lists.user_1.token}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Delete another users list",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test(\"Response status is NotFound\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_2.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"variable": [
										{
											"key": "list_id",
											"value": "{{lists.test_1.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete non existent list",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test(\"Response status is NotFound\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"variable": [
										{
											"key": "list_id",
											"value": "999999"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete List without Todos",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Response status is Ok\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('status', 'Ok');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{lists.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/lists/:list_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"lists",
										":list_id"
									],
									"variable": [
										{
											"key": "list_id",
											"value": "{{lists.test_1.id}}"
										}
									]
								}
							},
							"response": []
						}
					]
				}
			]
		},
		{
			"name": "todos",
			"item": [
				{
					"name": "setup",
					"item": [
						{
							"name": "user 1",
							"item": [
								{
									"name": "Create Test User 1",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"todos.user_1.token\", resp.token);",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set(\"todos.user_1.email\", pm.variables.replaceIn('{{$randomEmail}}'));",
													"pm.variables.set(\"todos.user_1.name\", pm.variables.replaceIn('{{$randomFullName}}'));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"{{todos.user_1.email}}\",\n    \"name\": \"{{todos.user_1.name}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/users",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create List for User 1",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set(\"lists.user_1.list_1.name\", pm.variables.replaceIn('{{$randomAdjective}}'));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let list = pm.response.json();",
													"",
													"pm.variables.set('todos.user_1.list_1.id', list.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{todos.user_1.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"name\" : \"{{todos.user_1.list_1.name}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/lists",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"lists"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "user 2",
							"item": [
								{
									"name": "Create Test User 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let resp = pm.response.json();",
													"",
													"pm.variables.set(\"todos.user_2.token\", resp.token);",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set(\"todos.user_2.email\", pm.variables.replaceIn('{{$randomEmail}}'));",
													"pm.variables.set(\"todos.user_2.name\", pm.variables.replaceIn('{{$randomFullName}}'));"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"email\": \"{{todos.user_2.email}}\",\n    \"name\": \"{{todos.user_2.name}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/users",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"users"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create List for User 2",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set(\"lists.user_2.list_1.name\", pm.variables.replaceIn('{{$randomAdjective}}'));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let list = pm.response.json();",
													"",
													"pm.variables.set('todos.user_2.list_1.id', list.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{todos.user_2.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"name\" : \"{{todos.user_2.list_1.name}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/lists",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"lists"
											]
										}
									},
									"response": []
								}
							]
						}
					]
				},
				{
					"name": "create todo",
					"item": [
						{
							"name": "Create a Todo",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set('todos.create.test_1.title', pm.variables.replaceIn('{{$randomCatchPhrase}}'));",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let todo = pm.response.json();",
											"",
											"pm.test('Todo to have the expected title', function () {",
											"    pm.expect(todo)",
											"        .to.be.an('object')",
											"        .that.has.property('title', pm.variables.get('todos.create.test_1.title'));",
											"});",
											"",
											"pm.test('Todo should be in pending state', function () {",
											"    pm.expect(todo)",
											"        .to.have.property('status', 'pending');",
											"});",
											"",
											"pm.test('Todo should not be part of a list', function () {",
											"    pm.expect(todo)",
											"        .to.have.property('list')",
											"        .which.is.null;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"{{todos.create.test_1.title}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/todos",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create a Todo in a List",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set('todos.create.test_2.title', pm.variables.replaceIn('{{$randomCatchPhrase}}'));",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let todo = pm.response.json();",
											"",
											"pm.test('Todo to have the expected title', function () {",
											"    pm.expect(todo)",
											"        .to.be.an('object')",
											"        .that.has.property('title', pm.variables.get('todos.create.test_2.title'));",
											"});",
											"",
											"pm.test('Todo should be in pending state', function () {",
											"    pm.expect(todo)",
											"        .to.have.property('status', 'pending');",
											"});",
											"",
											"pm.test('Todo should not be part of a list', function () {",
											"    pm.expect(todo)",
											"        .to.have.property('list', pm.variables.get('todos.user_1.list_1.id'));",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"{{todos.create.test_2.title}}\",\n    \"due_by\": \"{{$randomDateFuture}}\",\n    \"list\": \"{{todos.user_1.list_1.id}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/todos",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create a Todo in a List Copy",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set('todos.create.test_3.title', pm.variables.replaceIn('{{$randomCatchPhrase}}'));",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"let todo = pm.response.json();",
											"",
											"pm.test('Response has status BadRequest', function () {",
											"    pm.expect(pm.response.json())",
											"        .is.an('object')",
											"        .which.has.property('status', 'BadRequest');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"{{todos.create.test_3.title}}\",\n    \"due_by\": \"{{$randomDateFuture}}\",\n    \"list\": \"{{todos.user_2.list_1.id}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/todos",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos"
									]
								}
							},
							"response": []
						},
						{
							"name": "Create a Todo in a non existent list",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set('todos.create.test_3.title', pm.variables.replaceIn('{{$randomCatchPhrase}}'));",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"let todo = pm.response.json();",
											"",
											"pm.test('Response has status BadRequest', function () {",
											"    pm.expect(pm.response.json())",
											"        .is.an('object')",
											"        .which.has.property('status', 'BadRequest');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"{{todos.create.test_3.title}}\",\n    \"due_by\": \"{{$randomDateFuture}}\",\n    \"list\": 999999\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/todos",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "todo actions",
					"item": [
						{
							"name": "Create a Todo",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set('todos.actions.test_1.title', pm.variables.replaceIn('{{$randomCatchPhrase}}'));",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"",
											"let todo = pm.response.json();",
											"",
											"pm.variables.set('todos.actions.test_1.todo.id', todo.id);",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"{{todos.actions.test_1.title}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/todos",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos"
									]
								}
							},
							"response": []
						},
						{
							"name": "Mark todo as done",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test('Todo is now marked as done', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'done');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id/:action",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id",
										":action"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "{{todos.actions.test_1.todo.id}}"
										},
										{
											"key": "action",
											"value": "done"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Mark todo as undone",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test('Todo is now marked as pending', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'pending');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id/:action",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id",
										":action"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "{{todos.actions.test_1.todo.id}}"
										},
										{
											"key": "action",
											"value": "reopen"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Perform Invalid Action on Todo",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test('Response status is BadRquest', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'BadRequest');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id/:action",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id",
										":action"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "{{todos.actions.test_1.todo.id}}"
										},
										{
											"key": "action",
											"value": "undone"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Perform Action on another users Todo",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test('Response status is NotFound', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_2.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id/:action",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id",
										":action"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "{{todos.actions.test_1.todo.id}}"
										},
										{
											"key": "action",
											"value": "done"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Perform Action on non existant todo",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test('Response status is NotFound', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id/:action",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id",
										":action"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "999999"
										},
										{
											"key": "action",
											"value": "done"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "get todos",
					"item": [
						{
							"name": "setup",
							"item": [
								{
									"name": "Create a Todo",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set('todos.get.pending.todo_1.title', pm.variables.replaceIn('{{$randomCatchPhrase}}'));",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"let todo = pm.response.json();",
													"",
													"pm.variables.set('todos.get.pending.todo_1.id', todo.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{todos.user_1.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{todos.get.pending.todo_1.title}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create a Todo to be Done",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set('todos.get.done.todo_1.title', pm.variables.replaceIn('{{$randomCatchPhrase}}'));",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"",
													"let todo = pm.response.json();",
													"",
													"pm.variables.set('todos.get.done.todo_1.id', todo.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{todos.user_1.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{todos.get.done.todo_1.title}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								},
								{
									"name": "Mark todo as done",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"pm.test('Todo is now marked as done', function () {",
													"    pm.expect(pm.response.json())",
													"        .to.be.an('object')",
													"        .that.has.property('status', 'done');",
													"});",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{todos.user_1.token}}",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{baseUrl}}/todos/:todo_id/:action",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos",
												":todo_id",
												":action"
											],
											"variable": [
												{
													"key": "todo_id",
													"value": "{{todos.get.done.todo_1.id}}"
												},
												{
													"key": "action",
													"value": "done"
												}
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Get Todos",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let todos = pm.response.json();",
											"",
											"pm.test(\"Todos are non empty\", function () {",
											"    pm.expect(todos)",
											"        .to.be.an('array')",
											"        .which.is.not.empty;",
											"});",
											"",
											"pm.test('No todos in `done` state should be present', function () {",
											"    let done_todos = todos.filter(t => t.status === 'done');",
											"",
											"    pm.expect(done_todos)",
											"        .to.be.an('array')",
											"        .which.is.empty;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos"
									]
								}
							},
							"response": []
						},
						{
							"name": "Get All Todos",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let todos = pm.response.json();",
											"",
											"pm.test(\"Todos are non empty\", function () {",
											"    pm.expect(todos)",
											"        .to.be.an('array')",
											"        .which.is.not.empty;",
											"});",
											"",
											"pm.test('Todos in `done` state should be present', function () {",
											"    let done_todos = todos.filter(t => t.status === 'done');",
											"",
											"    pm.expect(done_todos)",
											"        .to.be.an('array')",
											"        .which.is.not.empty;",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos?all=true",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos"
									],
									"query": [
										{
											"key": "all",
											"value": "true"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get Todo",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"let todo = pm.response.json();",
											"",
											"pm.test(\"Todo id is as expected\", function () {",
											"    pm.expect(todo)",
											"        .to.be.an('object')",
											"        .which.has.property('id', pm.variables.get('todos.get.pending.todo_1.id'));",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "{{todos.get.pending.todo_1.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get another users Todo",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test('Response status is NotFound', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_2.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "{{todos.get.pending.todo_1.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Get non existent todo",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test('Response status is NotFound', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_2.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "9999999"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "update todos",
					"item": [
						{
							"name": "setup",
							"item": [
								{
									"name": "Create a Todo",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set('todos.update.todo_1.title', pm.variables.replaceIn('{{$randomCatchPhrase}}'));",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let todo = pm.response.json();",
													"",
													"pm.variables.set('todos.update.todo_1.id', todo.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{todos.user_1.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{todos.update.todo_1.title}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Update Todo Title",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test(\"Todo has new title\", function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .which.has.property('title', pm.variables.get('todos.update.test_1.todo_1.title'));",
											"});"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"pm.variables.set('todos.update.test_1.todo_1.title', pm.variables.replaceIn('{{$randomCatchPhrase}}'));",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"{{todos.update.test_1.todo_1.title}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "{{todos.update.todo_1.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update Todo with Invalid Request",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"pm.test('Response status is BadRequest', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'BadRequest');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"name\": \"{{$randomCatchPhrase}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "{{todos.update.todo_1.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update another Users Todo",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test('Response status is NotFound', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_2.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"{{$randomCatchPhrase}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "{{todos.update.todo_1.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Update Non Existent Todo",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test('Response status is NotFound', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PUT",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_2.token}}",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"title\": \"{{$randomCatchPhrase}}\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "99999999"
										}
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "delete todos",
					"item": [
						{
							"name": "setup",
							"item": [
								{
									"name": "Create a Todo",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"exec": [
													"pm.variables.set('todos.delete.todo_1.title', pm.variables.replaceIn('{{$randomCatchPhrase}}'));",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"let todo = pm.response.json();",
													"",
													"pm.variables.set('todos.delete.todo_1.id', todo.id);",
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "X-Api-Key",
												"value": "{{todos.user_1.token}}",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"title\": \"{{todos.delete.todo_1.title}}\",\n    \"due_by\": \"{{$randomDateFuture}}\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{baseUrl}}/todos",
											"host": [
												"{{baseUrl}}"
											],
											"path": [
												"todos"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Delete a non existent Todo",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test('Response status is NotFound', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "9999999"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete another users Todo",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"",
											"pm.test('Response status is NotFound', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'NotFound');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_2.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "{{todos.delete.todo_1.id}}"
										}
									]
								}
							},
							"response": []
						},
						{
							"name": "Delete Todo",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Status code is 200\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"pm.test('Response status is Ok', function () {",
											"    pm.expect(pm.response.json())",
											"        .to.be.an('object')",
											"        .that.has.property('status', 'Ok');",
											"});",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "DELETE",
								"header": [
									{
										"key": "X-Api-Key",
										"value": "{{todos.user_1.token}}",
										"type": "text"
									}
								],
								"url": {
									"raw": "{{baseUrl}}/todos/:todo_id",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"todos",
										":todo_id"
									],
									"variable": [
										{
											"key": "todo_id",
											"value": "{{todos.delete.todo_1.id}}"
										}
									]
								}
							},
							"response": []
						}
					]
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				],
				"id": "eb8c7c84-aecc-4363-a255-3cc2da85f102"
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				],
				"id": "58be8938-940a-4e51-ab07-2fba4c85746a"
			}
		}
	]
}